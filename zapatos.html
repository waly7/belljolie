<!DOCTYPE html> 
<html lang="es"> 
<head> 

    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Zapatos - SuitUp</title> 

    <!-- Bootstrap CSS --> 

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"> 
    <link rel="stylesheet" href="css/estilozap.css">

</head> 

<body> 


    <header class="bg-white border-bottom"> 
        <div class="container"> 
            <div class="row py-2"> 
                <div class="col text-center"> 
                    <h1 class="h4">BellJolie - Zapatos</h1> 
                    <a href="index.html" class="btn btn-secondary" id="reg">P. principal</a>
                    <a href="blusas.html" class="btn btn-secondary" id="reg">Blusas</a>
                    <a href="joyeria.html" class="btn btn-secondary" id="reg">Joyeria</a>
                    <a href="bolsos.html" class="btn btn-secondary" id="reg">Bolsos</a>
                    <a href="pantalones.html" class="btn btn-secondary" id="reg">Pantalones</a>
                    <a href="polerasHombre.html" class="btn btn-secondary" id="reg">Poleras Hombre</a>
                </div> 
            </div> 
        </div> 
    </header> 



    <main class="py-5"> 
        <div class="container"> 
            <h2 class="text-center mb-4">Zapatos Disponibles</h2> 
            <div class="row"> 

                <div class="col-md-4"> 
                    <div class="product-item" id="al"> 
                        <img src="img/zap1.jpg" alt="Zapato Deportivo"> 
                        <h3>Sandalias con plataforma</h3> 
                        <p>180.00 BoB</p> 
                        <button class="btn agregar-carrito" id="bttg"
                        data-id="zap1"
                        data-nombre="Sandalias con plataforma"
                        data-precio="180.00"
                        data-link="zapatos.html">
                        Añadir al Carrito
                        </button>
                    </div> 
                </div>

                <!-- Producto 2 --> 

                <div class="col-md-4" id="al"> 
                    <div class="product-item" > 
                        <img src="img/hkkt.jpg" alt="Zapato de Vestir"> 
                        <h3>Tenis casuales</h3> 
                        <p>120.00 BoB</p> 
                        <button class="btn agregar-carrito" id="bttg"
                        data-id="hkkt"
                        data-nombre="Tenis casuales"
                        data-precio="120.00"
                        data-link="zapatos.html">
                        Añadir al Carrito
                        </button>
                    </div> 
                </div> 


                <div class="col-md-4"> 
                    <div class="product-item" id="al"> 
                        <img src="img/bt3.jpg" alt="Botines de Cuero" width="200" height="100px"> 
                        <h3>Botines de Cuero Vegano</h3> 
                        <p>250.00 BoB</p> 
                        <button class="btn agregar-carrito" id="bttg"
                        data-id="bt3"
                        data-nombre="Botines de Cuero Vegano"
                        data-precio="250.00"
                        data-link="zapatos.html">
                        Añadir al Carrito
                        </button>
                    </div> 
                </div> 


                <div class="col-md-4"> 
                    <div class="product-item" > 
                        <img src="img/tacos4.jpg" alt="Sandalias Elegantes"> 
                        <h3>Sandalias Elegantes</h3> 
                        <p>260.00 BoB</p> 
                        <button class="btn agregar-carrito" id="bttg"
                        data-id="tacos4"
                        data-nombre="Sandalias Elegantes"
                        data-precio="260.00"
                        data-link="zapatos.html">
                        Añadir al Carrito
                        </button>
                    </div> 
                </div> 


                <div class="col-md-4"> 
                    <div class="product-item"> 
                        <img src="img/tenisPlat5.jpg" alt="Zapatos Casual"> 
                        <h3>Tenis con plataforma y diseño calavera</h3> 
                        <p>190.00 BoB</p> 
                        <button class="btn agregar-carrito" id="bttg"
                        data-id="tenisPlat5"
                        data-nombre="Tenis con plataforma y diseño calavera"
                        data-precio="190.00"
                        data-link="zapatos.html">
                        Añadir al Carrito
                        </button>
                    </div> 
                </div> 

                <div class="col-md-4"> 
                    <div class="product-item"> 
                        <img src="img/hlls6.jpg" alt="Zapatos de Fiesta"> 
                        <h3>Tacones Elegantes</h3> 
                        <p>210.00 BoB</p> 
                        <button class="btn agregar-carrito" id="bttg"
                        data-id="hlls6"
                        data-nombre="Tenis con plataforma y diseño calavera"
                        data-precio="190.00"
                        data-link="zapatos.html">
                        Añadir al Carrito
                        </button>
                    </div>                                       
            </div> 
        </div> 
    </main> 

 
    <!-- Modal -->
    <div class="modal fade" id="carritoModal" tabindex="-1" role="dialog" aria-labelledby="carritoModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="carritoModalLabel">Carrito de compras</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar" id="btg">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="carrito-productos"></div>
                    <p class="text-right"><strong>Total:</strong> <span id="carrito-total">0.00</span> BoB</p>
                </div>
                <div class="modal-footer">
                    <button id="ddd"  type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    <a id="colfin" href="index.html" class="btn btn-primary">Finalizar Compra</a>
                </div>
            </div>
        </div>
    </div>

    <footer> 
        <div class="container"> 
            <p>© 2024 </p> 
        </div> 
    </footer> 

 

    <!-- Bootstrap JS --> 

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script> 
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> 

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            actualizarCarrito();
        });

        document.querySelectorAll(".agregar-carrito").forEach(button => {
            button.addEventListener("click", (e) => {
                const id = e.target.dataset.id;
                const nombre = e.target.dataset.nombre;
                const precio = parseFloat(e.target.dataset.precio); // Convertir precio a número
                let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
                const productoExistente = carrito.find(producto => producto.id === id);
                if (productoExistente) {
                    productoExistente.cantidad++;
                } else {
                    carrito.push({ id, nombre, precio, cantidad: 1 });
                }
                localStorage.setItem("carrito", JSON.stringify(carrito));
                actualizarCarrito();
                $('#carritoModal').modal('show');
            });
        });

        function actualizarCarrito() {
            const carrito = JSON.parse(localStorage.getItem("carrito")) || [];
            const carritoProductos = document.getElementById("carrito-productos");
            const carritoTotal = document.getElementById("carrito-total");
            carritoProductos.innerHTML = "";
            let total = 0;

            carrito.forEach(producto => {
                const productoDiv = document.createElement("div");
                productoDiv.classList.add("carrito-producto");
                productoDiv.innerHTML = `
                    <img src="img/${producto.id}.jpg" alt="${producto.nombre}">
                    <div class="nombre">
                        <p>${producto.nombre}</p>
                        <p>BoB ${producto.precio} x ${producto.cantidad}</p>
                    </div>
                    <span class="eliminar" data-id="${producto.id}">&times;</span>
                `;
                total += parseFloat(producto.precio) * producto.cantidad;
                carritoProductos.appendChild(productoDiv);

                productoDiv.querySelector(".eliminar").addEventListener("click", (e) => {
                    eliminarProducto(e.target.dataset.id);
                });
            });

            carritoTotal.textContent = total.toFixed(2);
        }

        function eliminarProducto(id) {
            let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
            carrito = carrito.filter(producto => producto.id !== id);
            localStorage.setItem("carrito", JSON.stringify(carrito));
            actualizarCarrito();
        }
    </script>

</body> 

</html> 